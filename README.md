# kit.feedbackform
# Модуль формочек

# Установка
* поместить в папку local/modules/kit.feedbackform
* или поместить в папку .last_version и её в архив .last_version.zip

#Описание
Модуль позволяет создавать неограниченное количество форм обратной связи с индивидуальными настройками, шаблонами писем, сохранять данные форм на сайте и управлять ими.

Возможности модуля:

При установке модуля автоматически создаются необходимые почтовые шаблоны. Вам остается только разместить компонент "Форма обратной связи" в нужном месте и настроить отображение полей.

Все сообщения отправляются на указанные адреса электронной почты и при необходимости сохраняются в инфоблоках 1С-Битрикс.

Если форму нужно сохранять в БД, то к компоненту можно прикрепить инфоблок 1С-Битрикс с полями свойств, которые можно автоматически вывести в форму. Работают все основные типы полей.

Вы можете добавить дополнительно любое количество полей, которые будут отправляться в письме, либо задать их как свойства инфоблока, и они будут как сохраняться в БД,так и попадать в шаблон письма.

В настройках компонента можно задать показ стандартной капчи, а также вывод соглашения о персональных данных. Соглашения задаются в настройках модуля как текст или файл для всех форм.

Загрузка веб-формы во всплывающем окне.

В компоненте можно выбрать соответствующий шаблон.

Можно задать проверку на заполнение полей, а также валидацию для полей телефона и e-mail.

Формы могут работать как в обычном режиме, так и в режиме AJAX.

У компонентов можно задать отличные от созданного модулем шаблоны писем. В шаблонах доступны все поля формы по их названию. При работе со свойствами инфоблоков названия совпадают с кодами свойств.

# Пример
```
<?php
$APPLICATION->IncludeComponent(
    "kit:feedbackform",
    ".popup",// .default|.popup
    Array(
        "EMAIL_FROM" => "no-reply@kit.ru", // откуда отправлять письмо - по умолчанию задано в опциях модуля
        "EMAIL_TO" => "", //Куда отправлять письмо - по умолчанию задано в опциях модуля
        "SUBJECT" => "Обратная связь", // заголовок письма
        "USE_CAPTCHA" => "N",// использовать капчу
        "EVENT_TYPE" => "KIT_FEEDBACK",// тип почтового события
        "MESSAGE_ID" => "",// id почтового шаблона
        "IBLOCK_TYPE" => "",// тип инфоблока
        "IBLOCK_ID" => "7",  // id инфоблока
        "FIELD_CHECK" => 'fio,phone',// список полей которые нужно проверить обязательно
        "AJAX_MODE" => "Y",
        "AGREE_PROCESSING" => 'Y', // согласие на обработку
        "MAX_FILE_COUNT" => 10,
        "MAX_FILE_SIZE" => 10,
        "FORM_ID"=>"form-1" // идентификатор формы
    ),
    false
);
?>
```